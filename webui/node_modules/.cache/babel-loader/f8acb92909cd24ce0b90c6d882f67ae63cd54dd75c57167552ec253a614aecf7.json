{"ast":null,"code":"import _objectSpread from\"/Users/krishdembla/Desktop/poker-debt-app/webui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{validatePlayerName,validateAmount}from'../../utils/apiErrorHandler';import'./AddPlayerDialog.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddPlayerDialog=_ref=>{let{isOpen,onClose,onAddPlayer,onError}=_ref;const[form,setForm]=useState({name:'',amount:''});const[isSubmitting,setIsSubmitting]=useState(false);const[error,setError]=useState('');// Reset form when dialog opens/closes\nuseEffect(()=>{if(isOpen){setForm({name:'',amount:''});setIsSubmitting(false);setError('');}},[isOpen]);const handleSubmit=async e=>{e.preventDefault();if(isSubmitting)return;try{// Validate inputs\nconst validatedName=validatePlayerName(form.name);const validatedAmount=validateAmount(form.amount);setIsSubmitting(true);await onAddPlayer({name:validatedName,amount:validatedAmount});onClose();}catch(error){console.error('Error adding player:',error);// Set error in the dialog\nsetError(error.message);// Also call onError if provided for parent component\nif(onError){onError(error.message);}}finally{setIsSubmitting(false);}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"dialog-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add New Player\"}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#ffebee',color:'#c62828',padding:'0.75rem',borderRadius:'4px',marginBottom:'1rem',fontSize:'0.875rem'},children:[\"\\u26A0\\uFE0F \",error]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"playerName\",children:\"Player Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"playerName\",type:\"text\",value:form.name,onChange:e=>{setForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}));if(error)setError('');// Clear error when user starts typing\n},onKeyDown:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),placeholder:\"Enter player name\",autoComplete:\"off\",autoFocus:true,required:true,className:\"dialog-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"buyInAmount\",children:\"Buy-In Amount\"}),/*#__PURE__*/_jsx(\"input\",{id:\"buyInAmount\",type:\"number\",min:\"0\",step:\"0.01\",value:form.amount,onChange:e=>{setForm(prev=>_objectSpread(_objectSpread({},prev),{},{amount:e.target.value}));if(error)setError('');// Clear error when user starts typing\n},onKeyDown:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),placeholder:\"Enter buy-in amount\",autoComplete:\"off\",required:true,className:\"dialog-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-btn\",onClick:onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",disabled:!form.name.trim()||!form.amount||Number(form.amount)<=0||isSubmitting,\"aria-busy\":isSubmitting,children:\"Add Player\"})]})]})]})});};export default AddPlayerDialog;","map":{"version":3,"names":["React","useState","useEffect","validatePlayerName","validateAmount","jsx","_jsx","jsxs","_jsxs","AddPlayerDialog","_ref","isOpen","onClose","onAddPlayer","onError","form","setForm","name","amount","isSubmitting","setIsSubmitting","error","setError","handleSubmit","e","preventDefault","validatedName","validatedAmount","console","message","className","children","style","backgroundColor","color","padding","borderRadius","marginBottom","fontSize","onSubmit","htmlFor","id","type","value","onChange","prev","_objectSpread","target","onKeyDown","stopPropagation","onMouseDown","placeholder","autoComplete","autoFocus","required","min","step","onClick","disabled","trim","Number"],"sources":["/Users/krishdembla/Desktop/poker-debt-app/webui/src/components/AddPlayerDialog/AddPlayerDialog.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { validatePlayerName, validateAmount } from '../../utils/apiErrorHandler';\nimport './AddPlayerDialog.css';\n\nconst AddPlayerDialog = ({ isOpen, onClose, onAddPlayer, onError }) => {\n  const [form, setForm] = useState({ name: '', amount: '' });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n\n  // Reset form when dialog opens/closes\n  useEffect(() => {\n    if (isOpen) {\n      setForm({ name: '', amount: '' });\n      setIsSubmitting(false);\n      setError('');\n    }\n  }, [isOpen]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (isSubmitting) return;\n    \n    try {\n      // Validate inputs\n      const validatedName = validatePlayerName(form.name);\n      const validatedAmount = validateAmount(form.amount);\n      \n      setIsSubmitting(true);\n      await onAddPlayer({ name: validatedName, amount: validatedAmount });\n      onClose();\n    } catch (error) {\n      console.error('Error adding player:', error);\n      // Set error in the dialog\n      setError(error.message);\n      // Also call onError if provided for parent component\n      if (onError) {\n        onError(error.message);\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"dialog-overlay\">\n      <div className=\"dialog-content\">\n        <h3>Add New Player</h3>\n        {error && (\n          <div style={{\n            backgroundColor: '#ffebee',\n            color: '#c62828',\n            padding: '0.75rem',\n            borderRadius: '4px',\n            marginBottom: '1rem',\n            fontSize: '0.875rem'\n          }}>\n            ⚠️ {error}\n          </div>\n        )}\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"playerName\">Player Name</label>\n            <input\n              id=\"playerName\"\n              type=\"text\"\n              value={form.name}\n              onChange={(e) => {\n                setForm(prev => ({ ...prev, name: e.target.value }));\n                if (error) setError(''); // Clear error when user starts typing\n              }}\n              onKeyDown={(e) => e.stopPropagation()}\n              onMouseDown={(e) => e.stopPropagation()}\n              placeholder=\"Enter player name\"\n              autoComplete=\"off\"\n              autoFocus\n              required\n              className=\"dialog-input\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"buyInAmount\">Buy-In Amount</label>\n            <input\n              id=\"buyInAmount\"\n              type=\"number\"\n              min=\"0\"\n              step=\"0.01\"\n              value={form.amount}\n              onChange={(e) => {\n                setForm(prev => ({ ...prev, amount: e.target.value }));\n                if (error) setError(''); // Clear error when user starts typing\n              }}\n              onKeyDown={(e) => e.stopPropagation()}\n              onMouseDown={(e) => e.stopPropagation()}\n              placeholder=\"Enter buy-in amount\"\n              autoComplete=\"off\"\n              required\n              className=\"dialog-input\"\n            />\n          </div>\n          <div className=\"dialog-actions\">\n            <button type=\"button\" className=\"cancel-btn\" onClick={onClose}>\n              Cancel\n            </button>\n            <button \n              type=\"submit\" \n              className=\"submit-btn\"\n              disabled={!form.name.trim() || !form.amount || Number(form.amount) <= 0 || isSubmitting}\n              aria-busy={isSubmitting}\n            >\n              Add Player\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AddPlayerDialog;\n"],"mappings":"oIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,kBAAkB,CAAEC,cAAc,KAAQ,6BAA6B,CAChF,MAAO,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/B,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAA+C,IAA9C,CAAEC,MAAM,CAAEC,OAAO,CAAEC,WAAW,CAAEC,OAAQ,CAAC,CAAAJ,IAAA,CAChE,KAAM,CAACK,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,CAAEgB,IAAI,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAG,CAAC,CAAC,CAC1D,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACoB,KAAK,CAAEC,QAAQ,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAEtC;AACAC,SAAS,CAAC,IAAM,CACd,GAAIS,MAAM,CAAE,CACVK,OAAO,CAAC,CAAEC,IAAI,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAG,CAAC,CAAC,CACjCE,eAAe,CAAC,KAAK,CAAC,CACtBE,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAAE,CAACX,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAY,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIN,YAAY,CAAE,OAElB,GAAI,CACF;AACA,KAAM,CAAAO,aAAa,CAAGvB,kBAAkB,CAACY,IAAI,CAACE,IAAI,CAAC,CACnD,KAAM,CAAAU,eAAe,CAAGvB,cAAc,CAACW,IAAI,CAACG,MAAM,CAAC,CAEnDE,eAAe,CAAC,IAAI,CAAC,CACrB,KAAM,CAAAP,WAAW,CAAC,CAAEI,IAAI,CAAES,aAAa,CAAER,MAAM,CAAES,eAAgB,CAAC,CAAC,CACnEf,OAAO,CAAC,CAAC,CACX,CAAE,MAAOS,KAAK,CAAE,CACdO,OAAO,CAACP,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C;AACAC,QAAQ,CAACD,KAAK,CAACQ,OAAO,CAAC,CACvB;AACA,GAAIf,OAAO,CAAE,CACXA,OAAO,CAACO,KAAK,CAACQ,OAAO,CAAC,CACxB,CACF,CAAC,OAAS,CACRT,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAED,GAAI,CAACT,MAAM,CAAE,MAAO,KAAI,CAExB,mBACEL,IAAA,QAAKwB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BvB,KAAA,QAAKsB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BzB,IAAA,OAAAyB,QAAA,CAAI,gBAAc,CAAI,CAAC,CACtBV,KAAK,eACJb,KAAA,QAAKwB,KAAK,CAAE,CACVC,eAAe,CAAE,SAAS,CAC1BC,KAAK,CAAE,SAAS,CAChBC,OAAO,CAAE,SAAS,CAClBC,YAAY,CAAE,KAAK,CACnBC,YAAY,CAAE,MAAM,CACpBC,QAAQ,CAAE,UACZ,CAAE,CAAAP,QAAA,EAAC,eACE,CAACV,KAAK,EACN,CACN,cACDb,KAAA,SAAM+B,QAAQ,CAAEhB,YAAa,CAAAQ,QAAA,eAC3BvB,KAAA,QAAKsB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBzB,IAAA,UAAOkC,OAAO,CAAC,YAAY,CAAAT,QAAA,CAAC,aAAW,CAAO,CAAC,cAC/CzB,IAAA,UACEmC,EAAE,CAAC,YAAY,CACfC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE5B,IAAI,CAACE,IAAK,CACjB2B,QAAQ,CAAGpB,CAAC,EAAK,CACfR,OAAO,CAAC6B,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE5B,IAAI,CAAEO,CAAC,CAACuB,MAAM,CAACJ,KAAK,EAAG,CAAC,CACpD,GAAItB,KAAK,CAAEC,QAAQ,CAAC,EAAE,CAAC,CAAE;AAC3B,CAAE,CACF0B,SAAS,CAAGxB,CAAC,EAAKA,CAAC,CAACyB,eAAe,CAAC,CAAE,CACtCC,WAAW,CAAG1B,CAAC,EAAKA,CAAC,CAACyB,eAAe,CAAC,CAAE,CACxCE,WAAW,CAAC,mBAAmB,CAC/BC,YAAY,CAAC,KAAK,CAClBC,SAAS,MACTC,QAAQ,MACRxB,SAAS,CAAC,cAAc,CACzB,CAAC,EACC,CAAC,cACNtB,KAAA,QAAKsB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBzB,IAAA,UAAOkC,OAAO,CAAC,aAAa,CAAAT,QAAA,CAAC,eAAa,CAAO,CAAC,cAClDzB,IAAA,UACEmC,EAAE,CAAC,aAAa,CAChBC,IAAI,CAAC,QAAQ,CACba,GAAG,CAAC,GAAG,CACPC,IAAI,CAAC,MAAM,CACXb,KAAK,CAAE5B,IAAI,CAACG,MAAO,CACnB0B,QAAQ,CAAGpB,CAAC,EAAK,CACfR,OAAO,CAAC6B,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE3B,MAAM,CAAEM,CAAC,CAACuB,MAAM,CAACJ,KAAK,EAAG,CAAC,CACtD,GAAItB,KAAK,CAAEC,QAAQ,CAAC,EAAE,CAAC,CAAE;AAC3B,CAAE,CACF0B,SAAS,CAAGxB,CAAC,EAAKA,CAAC,CAACyB,eAAe,CAAC,CAAE,CACtCC,WAAW,CAAG1B,CAAC,EAAKA,CAAC,CAACyB,eAAe,CAAC,CAAE,CACxCE,WAAW,CAAC,qBAAqB,CACjCC,YAAY,CAAC,KAAK,CAClBE,QAAQ,MACRxB,SAAS,CAAC,cAAc,CACzB,CAAC,EACC,CAAC,cACNtB,KAAA,QAAKsB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BzB,IAAA,WAAQoC,IAAI,CAAC,QAAQ,CAACZ,SAAS,CAAC,YAAY,CAAC2B,OAAO,CAAE7C,OAAQ,CAAAmB,QAAA,CAAC,QAE/D,CAAQ,CAAC,cACTzB,IAAA,WACEoC,IAAI,CAAC,QAAQ,CACbZ,SAAS,CAAC,YAAY,CACtB4B,QAAQ,CAAE,CAAC3C,IAAI,CAACE,IAAI,CAAC0C,IAAI,CAAC,CAAC,EAAI,CAAC5C,IAAI,CAACG,MAAM,EAAI0C,MAAM,CAAC7C,IAAI,CAACG,MAAM,CAAC,EAAI,CAAC,EAAIC,YAAa,CACxF,YAAWA,YAAa,CAAAY,QAAA,CACzB,YAED,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}