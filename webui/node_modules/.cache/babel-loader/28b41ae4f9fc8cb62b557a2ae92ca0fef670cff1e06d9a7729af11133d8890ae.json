{"ast":null,"code":"import{useState,useEffect,createContext}from'react';import{Routes,Route,useNavigate}from'react-router-dom';import GamesList from'./pages/GamesList';import Login from'./pages/Login';import Register from'./pages/Register';import RequireAuth from'./components/RequireAuth';import GamePage from'./pages/GamePage';import ConnectionStatus from'./components/ConnectionStatus';import KeyboardShortcutsHelp from'./components/KeyboardShortcutsHelp';import ErrorBoundary from'./components/ErrorBoundary';import Home from'./pages/Home';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ThemeContext=/*#__PURE__*/createContext();// Helper to check if user is logged in\nfunction isLoggedIn(){return!!localStorage.getItem('poker_token');}function App(){const[theme,setTheme]=useState('light');const navigate=useNavigate();useEffect(()=>{const savedTheme=localStorage.getItem('theme')||'light';setTheme(savedTheme);document.documentElement.setAttribute('data-theme',savedTheme);},[]);const toggleTheme=()=>{const newTheme=theme==='light'?'dark':'light';setTheme(newTheme);localStorage.setItem('theme',newTheme);document.documentElement.setAttribute('data-theme',newTheme);};// Listen for logout and redirect to home\nuseEffect(()=>{const handleStorage=e=>{if(e.key==='poker_token'&&!e.newValue){navigate('/');}};window.addEventListener('storage',handleStorage);return()=>window.removeEventListener('storage',handleStorage);},[navigate]);return/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsxs(ThemeContext.Provider,{value:{theme,toggleTheme},children:[/*#__PURE__*/_jsx(ConnectionStatus,{}),/*#__PURE__*/_jsx(KeyboardShortcutsHelp,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/games\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(GamesList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/game/:id\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(GamePage,{})})})]})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","createContext","Routes","Route","useNavigate","GamesList","Login","Register","RequireAuth","GamePage","ConnectionStatus","KeyboardShortcutsHelp","ErrorBoundary","Home","jsx","_jsx","jsxs","_jsxs","ThemeContext","isLoggedIn","localStorage","getItem","App","theme","setTheme","navigate","savedTheme","document","documentElement","setAttribute","toggleTheme","newTheme","setItem","handleStorage","e","key","newValue","window","addEventListener","removeEventListener","children","Provider","value","path","element"],"sources":["/Users/krishdembla/Desktop/poker-debt-app/webui/src/App.js"],"sourcesContent":["import { useState, useEffect, createContext } from 'react';\nimport { Routes, Route, useNavigate } from 'react-router-dom';\nimport GamesList from './pages/GamesList';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport RequireAuth from './components/RequireAuth';\nimport GamePage from './pages/GamePage';\nimport ConnectionStatus from './components/ConnectionStatus';\nimport KeyboardShortcutsHelp from './components/KeyboardShortcutsHelp';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport Home from './pages/Home';\nimport './App.css';\n\nexport const ThemeContext = createContext();\n\n// Helper to check if user is logged in\nfunction isLoggedIn() {\n  return !!localStorage.getItem('poker_token');\n}\n\nfunction App() {\n  const [theme, setTheme] = useState('light');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') || 'light';\n    setTheme(savedTheme);\n    document.documentElement.setAttribute('data-theme', savedTheme);\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.setAttribute('data-theme', newTheme);\n  };\n\n  // Listen for logout and redirect to home\n  useEffect(() => {\n    const handleStorage = (e) => {\n      if (e.key === 'poker_token' && !e.newValue) {\n        navigate('/');\n      }\n    };\n    window.addEventListener('storage', handleStorage);\n    return () => window.removeEventListener('storage', handleStorage);\n  }, [navigate]);\n\n  return (\n    <ErrorBoundary>\n      <ThemeContext.Provider value={{ theme, toggleTheme }}>\n        <ConnectionStatus />\n        <KeyboardShortcutsHelp />\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n          <Route\n            path=\"/games\"\n            element={\n              <RequireAuth>\n                <GamesList />\n              </RequireAuth>\n            }\n          />\n          <Route\n            path=\"/game/:id\"\n            element={\n              <RequireAuth>\n                <GamePage />\n              </RequireAuth>\n            }\n          />\n        </Routes>\n      </ThemeContext.Provider>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}