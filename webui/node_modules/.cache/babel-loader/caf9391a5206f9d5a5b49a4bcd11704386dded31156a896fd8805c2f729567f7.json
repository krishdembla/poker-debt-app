{"ast":null,"code":"import axios from 'axios';\nconst TOKEN_KEY = 'poker_token';\nexport const setToken = t => localStorage.setItem(TOKEN_KEY, t);\nexport const clearToken = () => localStorage.removeItem(TOKEN_KEY);\nconst getToken = () => localStorage.getItem(TOKEN_KEY);\nconst api = axios.create({\n  baseURL: '/api' // CRA proxy rewrites to backend\n});\n\n// inject header\napi.interceptors.request.use(config => {\n  const t = getToken();\n  if (t) config.headers['Authorization'] = `Bearer ${t}`;\n  return config;\n});\nexport const createGame = () => api.post('/game');\nexport const addBuyIn = (gameId, data) => api.post(`/game/${gameId}/player`, data);\nexport const addCashOut = (gameId, data) => api.post(`/game/${gameId}/cashout`, data);\nexport const fetchSummary = gameId => api.get(`/game/${gameId}/summary`);\nexport const fetchSettlement = gameId => api.get(`/game/${gameId}/settle`);\nexport const listGames = () => api.get('/games');\nexport const login = data => api.post('/login', data);\nexport const registerUser = data => api.post('/register', data);\nexport default api;","map":{"version":3,"names":["axios","TOKEN_KEY","setToken","t","localStorage","setItem","clearToken","removeItem","getToken","getItem","api","create","baseURL","interceptors","request","use","config","headers","createGame","post","addBuyIn","gameId","data","addCashOut","fetchSummary","get","fetchSettlement","listGames","login","registerUser"],"sources":["/Users/krishdembla/Desktop/poker-debt-app/webui/src/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst TOKEN_KEY = 'poker_token';\nexport const setToken = (t) => localStorage.setItem(TOKEN_KEY, t);\nexport const clearToken = () => localStorage.removeItem(TOKEN_KEY);\nconst getToken = () => localStorage.getItem(TOKEN_KEY);\n\nconst api = axios.create({\n  baseURL: '/api', // CRA proxy rewrites to backend\n});\n\n// inject header\napi.interceptors.request.use((config) => {\n  const t = getToken();\n  if (t) config.headers['Authorization'] = `Bearer ${t}`;\n  return config;\n});\n\nexport const createGame = () => api.post('/game');\nexport const addBuyIn = (gameId, data) => api.post(`/game/${gameId}/player`, data);\nexport const addCashOut = (gameId, data) => api.post(`/game/${gameId}/cashout`, data);\nexport const fetchSummary = (gameId) => api.get(`/game/${gameId}/summary`);\nexport const fetchSettlement = (gameId) => api.get(`/game/${gameId}/settle`);\nexport const listGames = () => api.get('/games');\nexport const login = (data) => api.post('/login', data);\nexport const registerUser = (data) => api.post('/register', data);\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAG,aAAa;AAC/B,OAAO,MAAMC,QAAQ,GAAIC,CAAC,IAAKC,YAAY,CAACC,OAAO,CAACJ,SAAS,EAAEE,CAAC,CAAC;AACjE,OAAO,MAAMG,UAAU,GAAGA,CAAA,KAAMF,YAAY,CAACG,UAAU,CAACN,SAAS,CAAC;AAClE,MAAMO,QAAQ,GAAGA,CAAA,KAAMJ,YAAY,CAACK,OAAO,CAACR,SAAS,CAAC;AAEtD,MAAMS,GAAG,GAAGV,KAAK,CAACW,MAAM,CAAC;EACvBC,OAAO,EAAE,MAAM,CAAE;AACnB,CAAC,CAAC;;AAEF;AACAF,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvC,MAAMb,CAAC,GAAGK,QAAQ,CAAC,CAAC;EACpB,IAAIL,CAAC,EAAEa,MAAM,CAACC,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUd,CAAC,EAAE;EACtD,OAAOa,MAAM;AACf,CAAC,CAAC;AAEF,OAAO,MAAME,UAAU,GAAGA,CAAA,KAAMR,GAAG,CAACS,IAAI,CAAC,OAAO,CAAC;AACjD,OAAO,MAAMC,QAAQ,GAAGA,CAACC,MAAM,EAAEC,IAAI,KAAKZ,GAAG,CAACS,IAAI,CAAC,SAASE,MAAM,SAAS,EAAEC,IAAI,CAAC;AAClF,OAAO,MAAMC,UAAU,GAAGA,CAACF,MAAM,EAAEC,IAAI,KAAKZ,GAAG,CAACS,IAAI,CAAC,SAASE,MAAM,UAAU,EAAEC,IAAI,CAAC;AACrF,OAAO,MAAME,YAAY,GAAIH,MAAM,IAAKX,GAAG,CAACe,GAAG,CAAC,SAASJ,MAAM,UAAU,CAAC;AAC1E,OAAO,MAAMK,eAAe,GAAIL,MAAM,IAAKX,GAAG,CAACe,GAAG,CAAC,SAASJ,MAAM,SAAS,CAAC;AAC5E,OAAO,MAAMM,SAAS,GAAGA,CAAA,KAAMjB,GAAG,CAACe,GAAG,CAAC,QAAQ,CAAC;AAChD,OAAO,MAAMG,KAAK,GAAIN,IAAI,IAAKZ,GAAG,CAACS,IAAI,CAAC,QAAQ,EAAEG,IAAI,CAAC;AACvD,OAAO,MAAMO,YAAY,GAAIP,IAAI,IAAKZ,GAAG,CAACS,IAAI,CAAC,WAAW,EAAEG,IAAI,CAAC;AAEjE,eAAeZ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}