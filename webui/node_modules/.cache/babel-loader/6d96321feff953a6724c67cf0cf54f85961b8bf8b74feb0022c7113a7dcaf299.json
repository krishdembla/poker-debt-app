{"ast":null,"code":"import{useState}from'react';import{useNavigate,useLocation,Link}from'react-router-dom';import{login,setToken}from'../api';import ThemeToggle from'../components/ThemeToggle';import'./GamePage.css';// for button styles\nimport'../App.css';// for brand font\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{var _location$state,_location$state$from;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState(null);const navigate=useNavigate();const location=useLocation();const from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/';const handleSubmit=async e=>{e.preventDefault();try{const res=await login({username,password});setToken(res.data.token);navigate('/games',{replace:true});}catch(e){var _e$response,_e$response$data;setError(((_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.error)||'Login failed');}};return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'var(--cream)',display:'flex',alignItems:'center',justifyContent:'center',position:'relative',overflow:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{style:{zIndex:1,background:'var(--container-bg, #fff)',borderRadius:'18px',boxShadow:'0 8px 32px rgba(0,0,0,0.10)',padding:'2.5rem 2.5rem 2rem 2.5rem',maxWidth:420,width:'100%',textAlign:'center',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"brand\",style:{marginBottom:'1.2rem',fontSize:'2.7rem',color:'var(--accent)'},children:\"ChipMate\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'1.1rem',marginBottom:'1.5rem',fontWeight:500},children:\"Welcome back! Log in to track your poker debts.\"}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#ffebee',color:'#c62828',padding:'0.75rem',borderRadius:'4px',marginBottom:'1rem',fontSize:'0.875rem'},children:[\"\\u26A0\\uFE0F \",error]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{marginBottom:'1.2rem'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value),autoComplete:\"username\",required:true,className:\"dialog-input\",style:{marginBottom:16,width:'100%'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),autoComplete:\"current-password\",required:true,className:\"dialog-input\",style:{marginBottom:16,width:'100%'}})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"settle-button\",style:{width:'100%',fontSize:'1.1rem',padding:'0.8rem 0',marginBottom:8},children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#888',fontSize:'1rem',marginBottom:0},children:[\"No account?\",' ',/*#__PURE__*/_jsx(\"span\",{style:{color:'var(--accent)',cursor:'pointer',fontWeight:600},onClick:()=>navigate('/register'),children:\"Register\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:18,right:18},children:/*#__PURE__*/_jsx(ThemeToggle,{})})]})});};export default Login;","map":{"version":3,"names":["useState","useNavigate","useLocation","Link","login","setToken","ThemeToggle","jsx","_jsx","jsxs","_jsxs","Login","_location$state","_location$state$from","username","setUsername","password","setPassword","error","setError","navigate","location","from","state","pathname","handleSubmit","e","preventDefault","res","data","token","replace","_e$response","_e$response$data","response","style","minHeight","background","display","alignItems","justifyContent","position","overflow","children","zIndex","borderRadius","boxShadow","padding","maxWidth","width","textAlign","className","marginBottom","fontSize","color","fontWeight","backgroundColor","onSubmit","type","placeholder","value","onChange","target","autoComplete","required","cursor","onClick","top","right"],"sources":["/Users/krishdembla/Desktop/poker-debt-app/webui/src/pages/Login.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate, useLocation, Link } from 'react-router-dom';\nimport { login, setToken } from '../api';\nimport ThemeToggle from '../components/ThemeToggle';\nimport './GamePage.css'; // for button styles\nimport '../App.css'; // for brand font\n\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = location.state?.from?.pathname || '/';\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await login({ username, password });\n      setToken(res.data.token);\n      navigate('/games', { replace: true });\n    } catch (e) {\n      setError(e.response?.data?.error || 'Login failed');\n    }\n  };\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'var(--cream)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      position: 'relative',\n      overflow: 'hidden',\n    }}>\n      <div style={{\n        zIndex: 1,\n        background: 'var(--container-bg, #fff)',\n        borderRadius: '18px',\n        boxShadow: '0 8px 32px rgba(0,0,0,0.10)',\n        padding: '2.5rem 2.5rem 2rem 2.5rem',\n        maxWidth: 420,\n        width: '100%',\n        textAlign: 'center',\n        position: 'relative',\n      }}>\n        {/* Brand Logo in Pacifico font */}\n        <div className=\"brand\" style={{ marginBottom: '1.2rem', fontSize: '2.7rem', color: 'var(--accent)' }}>\n          ChipMate\n        </div>\n        <div style={{\n          color: '#888',\n          fontSize: '1.1rem',\n          marginBottom: '1.5rem',\n          fontWeight: 500,\n        }}>\n          Welcome back! Log in to track your poker debts.\n        </div>\n        {error && (\n          <div style={{\n            backgroundColor: '#ffebee',\n            color: '#c62828',\n            padding: '0.75rem',\n            borderRadius: '4px',\n            marginBottom: '1rem',\n            fontSize: '0.875rem'\n          }}>\n            ⚠️ {error}\n          </div>\n        )}\n        <form onSubmit={handleSubmit} style={{ marginBottom: '1.2rem' }}>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              placeholder=\"Username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              autoComplete=\"username\"\n              required\n              className=\"dialog-input\"\n              style={{ marginBottom: 16, width: '100%' }}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              autoComplete=\"current-password\"\n              required\n              className=\"dialog-input\"\n              style={{ marginBottom: 16, width: '100%' }}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"settle-button\"\n            style={{ width: '100%', fontSize: '1.1rem', padding: '0.8rem 0', marginBottom: 8 }}\n          >\n            Login\n          </button>\n        </form>\n        <p style={{ color: '#888', fontSize: '1rem', marginBottom: 0 }}>\n          No account?{' '}\n          <span\n            style={{ color: 'var(--accent)', cursor: 'pointer', fontWeight: 600 }}\n            onClick={() => navigate('/register')}\n          >\n            Register\n          </span>\n        </p>\n        <div style={{ position: 'absolute', top: 18, right: 18 }}>\n          <ThemeToggle />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}