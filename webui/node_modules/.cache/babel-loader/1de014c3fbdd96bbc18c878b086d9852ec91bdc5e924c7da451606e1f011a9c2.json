{"ast":null,"code":"import axios from 'axios';\nconst USER_KEY = 'poker_user';\nconst getUser = () => {\n  let u = localStorage.getItem(USER_KEY);\n  if (!u) {\n    u = prompt('Enter your name');\n    localStorage.setItem(USER_KEY, u);\n  }\n  return u;\n};\nconst api = axios.create({\n  baseURL: '/api' // CRA proxy rewrites to backend\n});\n\n// inject header\napi.interceptors.request.use(config => {\n  config.headers['x-user'] = getUser();\n  return config;\n});\nexport const createGame = () => api.post('/game');\nexport const addBuyIn = (gameId, data) => api.post(`/game/${gameId}/player`, data);\nexport const addCashOut = (gameId, data) => api.post(`/game/${gameId}/cashout`, data);\nexport const fetchSummary = gameId => api.get(`/game/${gameId}/summary`);\nexport const fetchSettlement = gameId => api.get(`/game/${gameId}/settle`);\nexport const listGames = () => api.get('/games');\nexport default api;","map":{"version":3,"names":["axios","USER_KEY","getUser","u","localStorage","getItem","prompt","setItem","api","create","baseURL","interceptors","request","use","config","headers","createGame","post","addBuyIn","gameId","data","addCashOut","fetchSummary","get","fetchSettlement","listGames"],"sources":["/Users/krishdembla/Desktop/poker-debt-app/webui/src/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst USER_KEY = 'poker_user';\nconst getUser = () => {\n  let u = localStorage.getItem(USER_KEY);\n  if (!u) {\n    u = prompt('Enter your name');\n    localStorage.setItem(USER_KEY, u);\n  }\n  return u;\n};\n\nconst api = axios.create({\n  baseURL: '/api', // CRA proxy rewrites to backend\n});\n\n// inject header\napi.interceptors.request.use((config) => {\n  config.headers['x-user'] = getUser();\n  return config;\n});\n\nexport const createGame = () => api.post('/game');\nexport const addBuyIn = (gameId, data) => api.post(`/game/${gameId}/player`, data);\nexport const addCashOut = (gameId, data) => api.post(`/game/${gameId}/cashout`, data);\nexport const fetchSummary = (gameId) => api.get(`/game/${gameId}/summary`);\nexport const fetchSettlement = (gameId) => api.get(`/game/${gameId}/settle`);\nexport const listGames = () => api.get('/games');\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,YAAY;AAC7B,MAAMC,OAAO,GAAGA,CAAA,KAAM;EACpB,IAAIC,CAAC,GAAGC,YAAY,CAACC,OAAO,CAACJ,QAAQ,CAAC;EACtC,IAAI,CAACE,CAAC,EAAE;IACNA,CAAC,GAAGG,MAAM,CAAC,iBAAiB,CAAC;IAC7BF,YAAY,CAACG,OAAO,CAACN,QAAQ,EAAEE,CAAC,CAAC;EACnC;EACA,OAAOA,CAAC;AACV,CAAC;AAED,MAAMK,GAAG,GAAGR,KAAK,CAACS,MAAM,CAAC;EACvBC,OAAO,EAAE,MAAM,CAAE;AACnB,CAAC,CAAC;;AAEF;AACAF,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvCA,MAAM,CAACC,OAAO,CAAC,QAAQ,CAAC,GAAGb,OAAO,CAAC,CAAC;EACpC,OAAOY,MAAM;AACf,CAAC,CAAC;AAEF,OAAO,MAAME,UAAU,GAAGA,CAAA,KAAMR,GAAG,CAACS,IAAI,CAAC,OAAO,CAAC;AACjD,OAAO,MAAMC,QAAQ,GAAGA,CAACC,MAAM,EAAEC,IAAI,KAAKZ,GAAG,CAACS,IAAI,CAAC,SAASE,MAAM,SAAS,EAAEC,IAAI,CAAC;AAClF,OAAO,MAAMC,UAAU,GAAGA,CAACF,MAAM,EAAEC,IAAI,KAAKZ,GAAG,CAACS,IAAI,CAAC,SAASE,MAAM,UAAU,EAAEC,IAAI,CAAC;AACrF,OAAO,MAAME,YAAY,GAAIH,MAAM,IAAKX,GAAG,CAACe,GAAG,CAAC,SAASJ,MAAM,UAAU,CAAC;AAC1E,OAAO,MAAMK,eAAe,GAAIL,MAAM,IAAKX,GAAG,CAACe,GAAG,CAAC,SAASJ,MAAM,SAAS,CAAC;AAC5E,OAAO,MAAMM,SAAS,GAAGA,CAAA,KAAMjB,GAAG,CAACe,GAAG,CAAC,QAAQ,CAAC;AAEhD,eAAef,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}